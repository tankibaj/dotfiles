#!/bin/bash

# Define the virtual environment and script paths
VENV_PATH="$HOME/.dotfiles.venv"
SCRIPT_PATH="$HOME/.dotfiles/bin/kubewizard_app.py"
REQUIREMENTS_PATH="$HOME/.dotfiles/bin/requirements.txt"

# Check if the virtual environment directory exists
if [ ! -d "$VENV_PATH" ]; then
    echo "Virtual environment not found. Setting up now..."
    # Create the virtual environment
    python3 -m venv "$VENV_PATH"
    echo "Installing dependencies from $REQUIREMENTS_PATH..."
    pip install -r "$REQUIREMENTS_PATH"
fi

# Activate the virtual environment
source "$VENV_PATH/bin/activate"

# Run your Python script with any passed arguments
python3 "$SCRIPT_PATH" "$@"
